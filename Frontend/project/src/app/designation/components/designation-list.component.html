<div class="dashboard-container">
    <app-sidebar></app-sidebar>
    <main class="main-content">
        <div class="employee-container">
            <div class="header">
                <div class="header-content">
                    <h1>Designation Management</h1>
                    <div class="header-actions">
                        <button class="btn btn-primary" routerLink="/designations/create">
                            + Add Designation
                        </button>
                    </div>
                </div>
            </div>

            <div class="content">
                <div *ngIf="isLoading" class="loading">
                    <p>Loading designations...</p>
                </div>

                <div *ngIf="errorMessage && !isLoading" class="alert alert-error">
                    {{ errorMessage }}
                </div>

                <div *ngIf="!isLoading && !errorMessage" class="table-container">
                    <table class="employee-table">
                        <thead>
                            <tr>
                                <th>Title</th>
                                <th>Department Name</th>
                                <th>Department Code</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngIf="designations.length === 0">
                                <td colspan="2" class="empty-row">
                                    No designations found. Add your first designation to get started.
                                </td>
                            </tr>
                            <tr *ngFor="let designation of designations">
                                <td>{{ designation.title }}</td>
                                <td>{{ designation.departmentName }}</td>
                                <td>{{ designation.departmentCode }}</td>


                                <td class="actions">
                                    <button class="btn-icon btn-view"
                                        [routerLink]="['/designations/details', designation.id]" title="View Details">
                                        <svg width="20" height="20" fill="none" stroke="#283a4d" stroke-width="2"
                                            stroke-linecap="round" stroke-linejoin="round">
                                            <circle cx="10" cy="10" r="8" />
                                            <circle cx="10" cy="10" r="3" />
                                        </svg>
                                    </button>
                                    <button class="btn-icon btn-edit"
                                        [routerLink]="['/designations/edit', designation.id]" title="Edit">
                                        <svg width="20" height="20" fill="none" stroke="#ffd166" stroke-width="2"
                                            stroke-linecap="round" stroke-linejoin="round">
                                            <path d="M12 4l4 4L8 16H4v-4L12 4z" />
                                        </svg>
                                    </button>
                                    <button class="btn-icon btn-delete" (click)="onDelete(designation.id)"
                                        title="Delete">
                                        <svg width="20" height="20" fill="none" stroke="#c33" stroke-width="2"
                                            stroke-linecap="round" stroke-linejoin="round">
                                            <rect x="3" y="6" width="14" height="12" rx="2" />
                                            <path d="M8 10v4M12 10v4" />
                                            <path d="M5 6V4a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2" />
                                        </svg>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </main>
</div>