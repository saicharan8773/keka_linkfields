<div class="dashboard-container">
  <app-sidebar></app-sidebar>
  <main class="main-content">
    <div class="employee-container">
      <div class="header">
        <div class="header-content">
          <h1>Employee Management</h1>
          <div class="header-actions">
            <button class="btn btn-primary" routerLink="/employees/create">
              + Add Employee
            </button>
          </div>
        </div>
      </div>

      <div class="content">
        <div *ngIf="isLoading" class="loading">
          <p>Loading employees...</p>
        </div>

        <div *ngIf="errorMessage && !isLoading" class="alert alert-error">
          {{ errorMessage }}
        </div>

        <div *ngIf="!isLoading && !errorMessage && employees.length === 0" class="empty-state">
          <p>No employees found. Add your first employee to get started.</p>
          <button class="btn btn-primary" routerLink="/employees/create">
            + Add Employee
          </button>
        </div>

        <div *ngIf="!isLoading && employees.length > 0" class="table-container">
          <table class="employee-table">
            <thead>
              <tr>
                <th>Name</th>
                <th>Email</th>
                <th>Department</th>
                <th>Position</th>
                <th>Joining Date</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let employee of employees">
                <td>{{ employee.firstName }} {{ employee.lastName }}</td>
                <td>{{ employee.workEmail }}</td>
                <td>{{ employee.departmentId }}</td>
                <td>{{ employee.designationId }}</td>
                <td>{{ employee.joiningDate | date : "mediumDate" }}</td>
                <td class="actions">
                  <button class="btn-icon btn-view" [routerLink]="['/employees/details', employee.id]"
                    title="View Details">
                    <svg width="20" height="20" fill="none" stroke="#283a4d" stroke-width="2" stroke-linecap="round"
                      stroke-linejoin="round">
                      <circle cx="10" cy="10" r="8" />
                      <circle cx="10" cy="10" r="3" />
                    </svg>
                  </button>
                  <button class="btn-icon btn-edit" [routerLink]="['/employees/edit', employee.id]" title="Edit">
                    <svg width="20" height="20" fill="none" stroke="#ffd166" stroke-width="2" stroke-linecap="round"
                      stroke-linejoin="round">
                      <path d="M12 4l4 4L8 16H4v-4L12 4z" />
                    </svg>
                  </button>
                  <button class="btn-icon btn-delete" (click)="onDelete(employee.id)" title="Delete">
                    <svg width="20" height="20" fill="none" stroke="#c33" stroke-width="2" stroke-linecap="round"
                      stroke-linejoin="round">
                      <rect x="3" y="6" width="14" height="12" rx="2" />
                      <path d="M8 10v4M12 10v4" />
                      <path d="M5 6V4a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2" />
                    </svg>
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </main>
</div>